$(function(){function t(){this.x=Math.random()*o.width,this.y=Math.random()*o.height,this.vx=-.5+Math.random(),this.vy=-.5+Math.random(),this.radius=Math.random()}function i(){e.clearRect(0,0,o.width,o.height);for(var i=0;i<h.nb;i++)h.array.push(new t),dot=h.array[i],dot.create();dot.line(),dot.animate()}var a,d=$(".canvas-bg"),o=$("<canvas></canvas>").appendTo(d)[0],e=o.getContext("2d"),n="#dc3c1a",r=null;o.width=window.innerWidth,o.height=d.outerHeight(),o.style.display="block",e.fillStyle=n,e.lineWidth=.1,e.strokeStyle=n;var a={x:30*o.width/100,y:30*o.height/100},h={nb:o.width<640?35:150,distance:80,d_radius:150,array:[]};t.prototype={create:function(){e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.fill()},animate:function(){for(var t=0,i=!1;t<h.nb;t++)i=h.array[t],i.y<0||i.y>o.height?(i.vx=i.vx,i.vy=-i.vy):(i.x<0||i.x>o.width)&&(i.vx=-i.vx,i.vy=i.vy),i.x+=i.vx,i.y+=i.vy},line:function(){for(var t=0;t<h.nb;t++)for(var i=0;i<h.nb;i++)i_dot=h.array[t],j_dot=h.array[i],i_dot.x-j_dot.x<h.distance&&i_dot.y-j_dot.y<h.distance&&i_dot.x-j_dot.x>-h.distance&&i_dot.y-j_dot.y>-h.distance&&i_dot.x-a.x<h.d_radius&&i_dot.y-a.y<h.d_radius&&i_dot.x-a.x>-h.d_radius&&i_dot.y-a.y>-h.d_radius&&(e.beginPath(),e.moveTo(i_dot.x,i_dot.y),e.lineTo(j_dot.x,j_dot.y),e.stroke(),e.closePath())}},r=setInterval(i,1e3/30),$(o).on("mousemove mouseleave",function(t){"mousemove"==t.type&&(a.x=t.pageX,a.y=t.pageY),"mouseleave"==t.type&&(a.x=o.width/2,a.y=o.height/2)})});